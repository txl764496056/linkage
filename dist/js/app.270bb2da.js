(function(t){function e(e){for(var n,o,a=e[0],l=e[1],c=e[2],u=0,d=[];u<a.length;u++)o=a[u],r[o]&&d.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],n=!0,o=1;o<i.length;o++){var l=i[o];0!==r[l]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},r={app:0},s=[];function o(t){return a.p+"js/"+({about:"about"}[t]||t)+"."+{about:"af08b870"}[t]+".js"}function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.e=function(t){var e=[],i=r[t];if(0!==i)if(i)e.push(i[2]);else{var n=new Promise(function(e,n){i=r[t]=[e,n]});e.push(i[2]=n);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=o(t),s=function(e){l.onerror=l.onload=null,clearTimeout(c);var i=r[t];if(0!==i){if(i){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+n+": "+s+")");o.type=n,o.request=s,i[1](o)}r[t]=void 0}};var c=setTimeout(function(){s({type:"timeout",target:l})},12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var f=c;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"01bf":function(t,e,i){"use strict";var n=i("3335"),r=i.n(n);r.a},"050d":function(t,e,i){"use strict";var n=i("8c5a"),r=i.n(n);r.a},1460:function(t,e,i){},"2b2a":function(t,e,i){},3335:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("dac5"),i("6e26"),i("9604"),i("df67");var n=i("6e6d"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"nav"}},[i("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" |\n    "),i("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),i("router-view")],1)},s=[],o=(i("5c0b"),i("17cc")),a={},l=Object(o["a"])(a,r,s,!1,null,null,null),c=l.exports,u=i("1e6f"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("div",{staticClass:"top"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.source_type,expression:"source_type"}],attrs:{name:"",id:""},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.source_type=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"1",checked:""}},[t._v("read")]),i("option",{attrs:{value:"2"}},[t._v("write")])]),i("button",{on:{click:function(e){return t.addData()}}},[t._v("add")])]),i("scroll-container",{attrs:{title:"write",feild_color:t.feild_color,iconLink_state:t.iconLink_state,all_param_feild:t.all_param_feild,source_list:t.write_list}}),i("scroll-container",{attrs:{title:"read",feild_color:t.feild_color,iconLink_state:t.iconLink_state,all_param_feild:t.all_param_feild,source_list:t.read_list}}),i("button",{staticClass:"submit",on:{click:function(e){return t.submit()}}},[t._v("提交")])],1)},d=[],h=i("4964"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"writeCon",staticClass:"container"},[i("div",{staticClass:"title"},[t._v(t._s(t.title))]),i("div",{ref:"writeScon",staticClass:"content scroll"},t._l(t.source_list,function(e,n){return i("data-origin",{key:e.source_id,ref:"originItem"+n,refInFor:!0,staticClass:"do-item",attrs:{source:e,feild_color:t.feild_color,iconLink_state:t.iconLink_state,all_param_feild:t.all_param_feild,write_index:t.getIndex(n)},on:{moveOrigin:t.moveOrigin,deleteOrigin:t.deleteOrigin}})}),1),t._l(t.moveSource,function(e){return i("data-origin",{key:e.name,ref:"moveDataOrigin",refInFor:!0,staticClass:"do-item move-data-origin",class:{dis:t.moveDis},style:{left:t.moveS_x+"px",top:t.moveS_y+"px"},attrs:{source:e}})})],2)},_=[],m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"itemBox",staticClass:"dr-item",class:{opacity:t.opacity==t.source.data_origin_id}},[i("div",{staticClass:"dr-title"},[i("i",{staticClass:"iconfont icon-yidong move",on:{click:t.shiftOrigin}}),t._v("\n        Data origin\n        "),i("i",{staticClass:"iconfont icon-remove remove",on:{click:function(e){return t.deleteOrigin()}}})]),i("div",{staticClass:"dr-container"},[t.parameter?i("header-body",{staticClass:"hd-item",attrs:{title:"Parameter Information"}},t._l(t.parameter,function(e){return i("parameter-item",{key:e.name,staticClass:"pi-item",attrs:{param:e,write_index:t.write_index,iconLink_state:t.iconLink_state,feild_color:t.feild_color},on:{changeFeildLight:t.changeFeildLight}})}),1):t._e(),t.response?i("header-body",{staticClass:"hd-item",attrs:{title:"Return Feild"}},[i("div",{staticClass:"field-list"},t._l(t.response,function(e,n,r){return i("span",{key:e.name,staticClass:"unit",class:{light:t.feild_color[t.write_index],selected:t.feild_active.name==e.name&&t.feild_active.upper_level==t.source.data_origin_id&&t.feild_color[t.write_index]},on:{click:function(i){return t.feildActive(r,e.name)}}},[t._v(t._s(e.name))])}),0)]):t._e()],1)])},v=[],g=(i("d4d5"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"dr-header iconfont",class:{"icon-dw":t.isFold},on:{click:function(e){return t.foldDRBody()}}},[t._v(t._s(t.title))]),i("div",{staticClass:"dr-body",class:{fold:t.isFold}},[t._t("default")],2)])}),y=[],x={name:"header-body",props:{title:{type:String,default:"title"}},data:function(){return{isFold:!1}},methods:{foldDRBody:function(){this.isFold=!this.isFold}}},b=x,k=(i("b989"),Object(o["a"])(b,g,y,!1,null,"f3e2abaa",null)),w=k.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"status"},[i("i",{staticClass:"iconfont light-red",class:{"icon-lianjie":t.iconLink,"icon-shoudong":!t.iconLink},attrs:{param_index:t.param.para_index},on:{click:function(e){return t.switchStatus()}}}),i("label",{attrs:{for:"param"+t.param.para_index}},[t._v(t._s(t.param.name))])]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.param.input_origin,expression:"param.input_origin"},{name:"show",rawName:"v-show",value:t.isCustom,expression:"isCustom"}],attrs:{type:"text",id:"param"+t.param.para_index,placeholder:"please input"},domProps:{value:t.param.input_origin},on:{input:[function(e){e.target.composing||t.$set(t.param,"input_origin",e.target.value)},function(e){return t.inputOrigin()}]}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLinkMsg,expression:"showLinkMsg"}],staticClass:"link-msg"},[i("p",{staticClass:"reg-msg"},[t._v("origin / user registration information:")]),i("p",{staticClass:"origin-txt"},[t._v(t._s(t.param.select_origin||"please select"))]),i("filter-box",{ref:"filterbox",on:{selectFilter:t.selectFilter}}),i("i",{staticClass:"iconfont light-red unlink icon-lianjie-duankai",on:{click:function(e){return t.linkMsg()}}})],1)])},S=[],O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"filter-list",on:{mouseleave:function(e){return t.filterListfold()}}},[i("button",{staticClass:"caption iconfont",on:{click:function(e){return t.filterList()}}},[t._v("filter")]),i("ul",{staticClass:"filter-select",class:{unfold:t.isUnfold}},t._l(t.filter,function(e){return i("li",{key:e,staticClass:"unit",on:{click:function(i){return t.selectFilter(e)}}},[t._v(t._s(e))])}),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.select_filter.length>0,expression:"select_filter.length>0"}],staticClass:"filter-box"},t._l(t.select_filter,function(e,n){return i("span",{key:e},[t._v("\n            "+t._s(e)+"\n            "),i("i",{staticClass:"iconfont icon-cha",on:{click:function(e){return t.deletSelect(n)}}})])}),0)])},C=[],$={name:"filter-box",props:{filter:{type:Array,default:function(){return["filter-1","filter-2","filter-3","filter-4"]}}},data:function(){return{isUnfold:!1,select_filter:[]}},methods:{filterListfold:function(){this.isUnfold=!1},filterList:function(){this.isUnfold=!this.isUnfold},deletSelect:function(t){this.select_filter.splice(t,1)},selectFilter:function(t){var e=this.select_filter.every(function(e){return e!==t});e&&this.select_filter.push(t),this.isUnfold=!1,this.$emit("selectFilter",this.select_filter)},emptySelectFilter:function(){this.select_filter.splice(0,this.select_filter.length),this.$emit("selectFilter",this.select_filter)}}},F=$,I=(i("c199"),Object(o["a"])(F,O,C,!1,null,"8e339f02",null)),j=I.exports,A={name:"parameter-item",props:{param:{type:Object,default:function(){return{}}},write_index:{type:Number,default:-1},feild_color:{type:Array,default:function(){return[]}},iconLink_state:{type:Array,default:function(){return[]}}},components:{filterBox:j},data:function(){return{iconLink:!1,input_origin:"",showLinkMsg:!1}},mounted:function(){this.iconLink=this.iconLink_state[this.param.para_index],this.input_origin=this.param.input_origin||""},methods:{selectFilter:function(t){this.emptyInputOrigin(),this.$set(this.param,"select_filter",t)},cancelFeildLight:function(){for(var t=0;t<this.feild_color.length;t++)this.feild_color.splice(t,1,!1)},setFeildLight:function(){var t=this.write_index,e=this.feild_color.length;t<0&&(t=e);for(var i=0;i<e;i++)i<t?this.feild_color.splice(i,1,!0):this.feild_color.splice(i,1,!1)},iconLinkState:function(){for(var t=0;t<this.iconLink_state.length;t++)t!=this.param.para_index?this.iconLink_state.splice(t,1,!1):this.iconLink_state.splice(this.param.para_index,1,this.iconLink)},switchStatus:function(){this.iconLink=!this.iconLink,this.iconLinkState(),this.iconLink?(this.setFeildLight(),this.showLinkMsg=!0,this.$emit("changeFeildLight")):this.cancelFeildLight()},inputOrigin:function(){""!=this.param.input_origin&&(this.$set(this.param,"input_origin",this.param.input_origin),this.emptySelectOrigin())},linkMsg:function(){this.emptySelectOrigin(),this.emptySelectFilter(),this.$refs.filterbox.emptySelectFilter(),this.iconLink=!1,this.showLinkMsg=!1,this.cancelFeildLight()},emptySelectFilter:function(){this.$set(this.param,"select_filter","")},emptySelectOrigin:function(){this.$set(this.param,"select_origin","")},emptyInputOrigin:function(){this.$set(this.param,"input_origin","")}},computed:{isCustom:function(){return!this.showLinkMsg}},watch:{iconLink_state:function(){this.iconLink=this.iconLink_state[this.param.para_index]}}},E=A,P=(i("c8d3"),Object(o["a"])(E,L,S,!1,null,"229f93b3",null)),R=P.exports,W={name:"data-origin",components:{headerBody:w,parameterItem:R},props:{source:{type:Object,default:function(){return{}}},feild_color:{type:Array,default:function(){return[]}},write_index:{type:Number,default:-1},iconLink_state:{type:Array,default:function(){return[]}},all_param_feild:{type:Array,default:function(){return[]}}},data:function(){return{filter:[],parameter:"",response:"",opacity:-1}},mounted:function(){this.parameter=this.source.parameter,this.response=this.source.response},methods:{changeOpacity:function(){this.opacity=-1},shiftOrigin:function(t){this.opacity=this.source.data_origin_id;var e=t.clientX,i=t.clientY,n=this.$refs.itemBox.clientHeight||this.$refs.itemBox.offsetHeight,r=this.$refs.itemBox.clientWidth||this.$refs.itemBox.offsetWidth,s=e-this.$refs.itemBox.offsetLeft,o=i-this.$refs.itemBox.offsetTop,a=this.write_index;this.$emit("moveOrigin",{id:this.source.data_origin_id,index:a,x:e,y:i,x_min:s,y_min:o,itemH:n,itemW:r})},deleteOrigin:function(){this.$emit("deleteOrigin",{data_origin_id:this.source.data_origin_id})},changeFeildLight:function(){var t=this.iconLinkLightIndex(),e=this.all_param_feild[t].upper_level,i=this.all_param_feild[t].select_origin;this.setFeildLight(i,e)},setFeildLight:function(t,e){this.$store.commit("setFeildActive",{name:t||"",upper_level:e<0?-1:e})},feildActive:function(t,e){if(this.feild_color[this.write_index]){var i=this.iconLinkLightIndex();this.setFeildLight(e,this.source.data_origin_id),this.$set(this.all_param_feild[i],"select_origin",e),this.$set(this.all_param_feild[i],"upper_level",this.source.data_origin_id),this.$set(this.all_param_feild[i],"input_origin","")}},iconLinkLightIndex:function(){var t=-1;return this.iconLink_state.filter(function(e,i){e&&(t=i)}),t}},computed:{feild_active:function(){return this.$store.state.feild_active}},watch:{feild_color:function(){}}},B=W,M=(i("e4df"),Object(o["a"])(B,m,v,!1,null,"3a361071",null)),D=M.exports,N={name:"scroll-container",components:{dataOrigin:D},props:{title:{type:String,default:"title"},source_list:{type:Array,default:function(){return[]}},feild_color:{type:Array,default:function(){return[]}},iconLink_state:{type:Array,default:function(){return[]}},all_param_feild:{type:Array,default:function(){return[]}}},data:function(){return{moveSource:[],moveDis:!1,moveS_x:0,moveS_y:0,moveS_ymin:0,moveS_xmin:0,moveS_ymax:0,moveS_xmax:0,distance:0,scrollIntervalId:-1,scrollx_max:0}},methods:{scrollX:function(t){var e=this,i=30,n=100;"left"==t&&(i=-i),this.scrollIntervalId=setInterval(function(){e.distance+=i,(e.distance>e.scrollx_max||e.distance<0)&&(clearInterval(e.scrollIntervalId),e.scrollIntervalId=-1),e.$refs.writeScon.scrollLeft=e.distance},n)},moveXY:function(t){var e=t.clientX,i=t.clientY;e<this.moveS_xmin?(e=this.moveS_xmin,this.scrollIntervalId<0&&this.distance>0&&this.scrollX("left")):e>this.moveS_xmax?(e=this.moveS_xmax,this.scrollIntervalId<0&&this.distance<this.scrollx_max&&this.scrollX("right")):(clearInterval(this.scrollIntervalId),this.scrollIntervalId=-1),i<this.moveS_ymin?i=this.moveS_ymin:i>this.moveS_ymax&&(i=this.moveS_ymax),this.moveS_x=e,this.moveS_y=i},moveOrigin:function(t){var e=this;this.moveDis=!1;for(var i=t.id,n=this.source_list,r=0;r<n.length;r++)if(n[r].data_origin_id==i){this.moveSource.push(n[r]);break}this.moveS_x=t.x,this.moveS_y=t.y;var s=this.$refs.writeCon.clientWidth||this.$refs.writeCon.offestWidth,o=this.$refs.writeCon.clientHeight||this.$refs.writeCon.offestHeight;this.moveS_ymin=t.y_min,this.moveS_xmin=t.x_min,this.moveS_ymax=t.y_min+o-t.itemH/2,this.moveS_xmax=t.x_min+s-t.itemW/2;var a=this.$refs.writeScon.clientWidth||this.$refs.writeScon.offestWidth;this.scrollx_max=this.$refs.writeScon.scrollWidth-a,document.addEventListener("mousemove",e.moveXY),document.addEventListener("mousedown",function(){document.removeEventListener("mousemove",e.moveXY),e.moveDis=!0,e.moveSource.splice(0,e.moveSource.length),e.$refs["originItem"+t.index][0].changeOpacity()})},deleteOrigin:function(t){for(var e=t.data_origin_id,i=this.source_list,n=0;n<i.length;n++)if(i[n].data_origin_id==e){i.splice(n,1);break}},getIndex:function(t){return"write"==this.title?t:-1}}},X=N,H=(i("050d"),Object(o["a"])(X,p,_,!1,null,"f903a270",null)),T=H.exports,U={name:"home",components:{scrollContainer:T},data:function(){return{read_list:[],write_list:[],source_type:1,iconLink_state:[],all_param_feild:[],num:0,data_origin_id:0,feild_color:[]}},mounted:function(){var t=this;this.axios.get("/source").then(function(e){for(var i=e.data,n=0;n<i.length;n++)t.sourceProcess(i[n])})},methods:{paramFieldIndex:function(t){for(var e in t)this.iconLink_state.push(!1),t[e].para_index=this.num++,this.all_param_feild.push(t[e])},dataOriginId:function(t){t["data_origin_id"]=this.data_origin_id++},separateRWsource:function(t){"Read"==t.permission?this.read_list.push(t):(this.write_list.push(t),this.feild_color.push(!1))},sourceProcess:function(t){this.paramFieldIndex(t.parameter),this.dataOriginId(t),this.separateRWsource(t)},addData:function(){var t=this,e="2"===this.source_type?"/write_source":"/read_source";this.axios.get(e).then(function(e){t.sourceProcess(e.data)})},statisticResult:function(){var t=[],e=[];e.push.apply(e,Object(h["a"])(this.write_list)),e.push.apply(e,Object(h["a"])(this.read_list)),e.map(function(e){var i={};for(var n in i.object_id=e.data_origin_id,i.source_id=e.source_id,i.parameters={},e.parameter){var r=e.parameter[n];if(i.parameters[n]={},r.input_origin&&""!=r.input_origin)i.parameters[n]=r.input_origin;else if(r.select_origin&&""!=r.select_origin){var s="";r.select_filter&&r.select_filter.length>0&&(s+="|",s+=r.select_filter.reduce(function(t,e){return t+"|"+e})),i.parameters[n]={bind:"1",value:r.upper_level+"."+r.select_origin+s}}else i.parameters[n]=""}i&&t.push(i)})},submit:function(){this.statisticResult()}}},Y=U,q=(i("01bf"),Object(o["a"])(Y,f,d,!1,null,null,null)),J=q.exports;n["a"].use(u["a"]);var z=new u["a"]({mode:"hash",base:"",routes:[{path:"/",name:"home",component:J},{path:"/about",name:"about",component:function(){return i.e("about").then(i.bind(null,"f820"))}}]}),G=(i("7364"),i("591a"));n["a"].use(G["a"]);var K=new G["a"].Store({state:{feild_active:{name:"",upper_level:-1}},mutations:{setFeildActive:function(t,e){t.feild_active.name=e.name,t.feild_active.upper_level=e.upper_level}},actions:{}}),Q=i("e1bc");Object(Q["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var V=i("f753"),Z=i.n(V),tt=i("d4d8"),et=i.n(tt),it=(i("7c56"),i("fddc")),nt=i.n(it),rt=0,st={};Z.a.get("./source.json").then(function(t){st=t.data}),nt.a.mock(RegExp("/read_source$"),"get",function(){var t=Object.assign({},st);return t.permission="Read",t.source_id=++rt,t.response="",t}),nt.a.mock(RegExp("/write_source$"),"get",function(){var t=Object.assign({},st);return t.permission="Write",t.source_id=++rt,t}),nt.a.mock(RegExp("/source$"),"get",function(){for(var t=[],e={},i=0;i<4;i++)e=Object.assign({},st),i%2==1?(e.permission="Read",e.response=""):e.permission="Write",e.source_id=++rt,t.push(e);return t}),n["a"].use(et.a,Z.a),n["a"].config.productionTip=!1,new n["a"]({router:z,store:K,render:function(t){return t(c)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var n=i("2b2a"),r=i.n(n);r.a},"840b":function(t,e,i){},"8c5a":function(t,e,i){},b989:function(t,e,i){"use strict";var n=i("da0f"),r=i.n(n);r.a},c199:function(t,e,i){"use strict";var n=i("e533"),r=i.n(n);r.a},c8d3:function(t,e,i){"use strict";var n=i("1460"),r=i.n(n);r.a},da0f:function(t,e,i){},e4df:function(t,e,i){"use strict";var n=i("840b"),r=i.n(n);r.a},e533:function(t,e,i){}});
//# sourceMappingURL=app.270bb2da.js.map